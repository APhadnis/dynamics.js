(function(){var t,i,r,e,n,o,s,a,u,h,p,l,c,f,m,y,d,v,g,x=function(t,i){return function(){return t.apply(i,arguments)}},b={}.hasOwnProperty,M=function(t,i){function r(){this.constructor=t}for(var e in i)b.call(i,e)&&(t[e]=i[e]);return r.prototype=i.prototype,t.prototype=new r,t.__super__=i.prototype,t};n=function(){function t(t){var i,r,e;this.o=null!=t?t:{},this.at=x(this.at,this),this.next=x(this.next,this),this.init=x(this.init,this),e=this.o.type.properties;for(i in e)r=e[i],null!=this.o[i]||r.editable||(this.o[i]=r["default"])}return t.properties={},t.prototype.init=function(){return this.t=0},t.prototype.next=function(t){var i;return this.t>1&&(this.t=1),i=this.at(this.t),this.t+=t,i},t.prototype.at=function(t){return[t,t]},t}(),h=function(t){function i(){return this.at=x(this.at,this),this.init=x(this.init,this),i.__super__.constructor.apply(this,arguments)}return M(i,t),i.properties={duration:{min:100,max:4e3,"default":1e3}},i.prototype.init=function(){return i.__super__.init.apply(this,arguments)},i.prototype.at=function(t){return[t,t]},i}(n),a=function(t){function i(t){var r;this.o=null!=t?t:{},this.at=x(this.at,this),this.curve=x(this.curve,this),this.init=x(this.init,this),this.length=x(this.length,this),this.gravityValue=x(this.gravityValue,this),this.bounceValue=x(this.bounceValue,this),this.duration=x(this.duration,this),this.expectedDuration=x(this.expectedDuration,this),null==(r=this.initialForce)&&(this.initialForce=!1),this.o.duration=this.duration(),i.__super__.constructor.call(this,this.o)}return M(i,t),i.properties={bounce:{min:0,max:80,"default":40},gravity:{min:1,max:4e3,"default":1e3},expectedDuration:{editable:!1}},i.prototype.expectedDuration=function(){return this.duration()},i.prototype.duration=function(){return Math.round(1e6/this.o.gravity*this.length())},i.prototype.bounceValue=function(){return Math.min(this.o.bounce/100,80)},i.prototype.gravityValue=function(){return this.o.gravity/100},i.prototype.length=function(){var t,i,r,e,n;for(r=this.bounceValue(),n=this.gravityValue(),i=Math.sqrt(2/n),e={a:-i,b:i,H:1},this.initialForce&&(e.a=0,e.b=2*e.b);e.H>.001;)t=e.b-e.a,e={a:e.b,b:e.b+t*r,H:e.H*r*r};return e.b},i.prototype.init=function(){var t,r,e,n,o,s;for(i.__super__.init.apply(this,arguments),t=this.length(),o=this.gravityValue()*t*t,e=this.bounceValue(),r=Math.sqrt(2/o),this.curves=[],n={a:-r,b:r,H:1},this.initialForce&&(n.a=0,n.b=2*n.b),this.curves.push(n),s=[];n.b<1&&n.H>.001;)t=n.b-n.a,n={a:n.b,b:n.b+t*e,H:n.H*e*e},s.push(this.curves.push(n));return s},i.prototype.curve=function(t,i,r,e){var n,o,s;return n=i-t,s=2/n*e-1-2*t/n,o=s*s*r-r+1,this.initialForce&&(o=1-o),o},i.prototype.at=function(t){var i,r,e,n,o;for(i=this.o.bounce/100,e=this.o.gravity,n=0,r=this.curves[n];!(t>=r.a&&t<=r.b)&&(n+=1,r=this.curves[n]););return o=r?this.curve(r.a,r.b,r.H,t):this.initialForce?0:1,[t,o]},i}(n),u=function(t){function i(t){this.o=null!=t?t:{},this.initialForce=!0,i.__super__.constructor.call(this,this.o)}return M(i,t),i.prototype.returnsToSelf=!0,i}(a),c=function(t){function i(){return this.at=x(this.at,this),i.__super__.constructor.apply(this,arguments)}return M(i,t),i.properties={frequency:{min:0,max:100,"default":15},friction:{min:1,max:1e3,"default":200},anticipationStrength:{min:0,max:1e3,"default":0},anticipationSize:{min:0,max:99,"default":0},duration:{min:100,max:4e3,"default":1e3}},i.prototype.at=function(t){var i,r,e,n,o,s,a,u,h,p,l,c,f,m=this;return a=Math.max(1,this.o.frequency),u=Math.pow(20,this.o.friction/100),p=this.o.anticipationSize/100,s=Math.max(0,p),h=t/(1-p)-p/(1-p),p>t?(i=function(t){var i,r,e,n,o;return i=.8,n=p/(1-p),o=0,e=(n-i*o)/(n-o),r=(i-e)/n,r*t*m.o.anticipationStrength/100+e},f=p/(1-p)-p/(1-p),c=0/(1-p)-p/(1-p),o=Math.acos(1/i(f)),e=(Math.acos(1/i(c))-o)/(a*-p)):(i=function(t){return Math.pow(u/10,-t)*(1-t)},o=0,e=1),r=i(h),n=a*(t-p)*e+o,l=1-r*Math.cos(n),[t,l,r,h,n]},i}(n),l=function(t){function i(){return this.at=x(this.at,this),i.__super__.constructor.apply(this,arguments)}return M(i,t),i.properties={frequency:{min:0,max:100,"default":15},friction:{min:1,max:1e3,"default":200},duration:{min:100,max:4e3,"default":1e3}},i.prototype.returnsToSelf=!0,i.prototype.at=function(t){var i,r,e,n,o,s,a,u;return s=Math.max(1,this.o.frequency),a=Math.pow(20,this.o.friction/100),i=function(t){return 1-Math.pow(a/10,-t)*(1-t)},r=i(t),e=i(1-t),n=Math.cos(2*t*3.14-3.14)/2+.5,n=Math.pow(n,this.o.friction/100),o=s*t,u=Math.cos(o)*n,[t,u,n,-n]},i}(n),r=function(t){function i(t){this.o=null!=t?t:{},this.at=x(this.at,this),this.yForX=x(this.yForX,this),this.B=x(this.B,this),this.B_=x(this.B_,this),this.returnsToSelf=0===this.o.points[this.o.points.length-1].y,i.__super__.constructor.call(this,this.o)}return M(i,t),i.properties={points:{type:"points","default":[{x:0,y:0,controlPoints:[{x:.2,y:0}]},{x:.5,y:1.2,controlPoints:[{x:.3,y:1.2},{x:.8,y:1.2}]},{x:1,y:1,controlPoints:[{x:.8,y:1}]}]},duration:{min:100,max:4e3,"default":1e3}},i.prototype.B_=function(t,i,r,e,n){return Math.pow(1-t,3)*i+3*Math.pow(1-t,2)*t*r+3*(1-t)*Math.pow(t,2)*e+Math.pow(t,3)*n},i.prototype.B=function(t,i,r,e,n){return{x:this.B_(t,i.x,r.x,e.x,n.x),y:this.B_(t,i.y,r.y,e.y,n.y)}},i.prototype.yForX=function(t,i){var r,e,n,o,s,a,u,h,p,l;for(r=null,p=0,l=i.length;l>p&&(e=i[p],t>=e(0).x&&t<=e(1).x&&(r=e),null===r);p++);if(!r)return this.returnsToSelf?0:1;for(h=1e-4,o=0,a=1,s=(a+o)/2,u=r(s).x,n=0;Math.abs(t-u)>h&&100>n;)t>u?o=s:a=s,s=(a+o)/2,u=r(s).x,n+=1;return r(s).y},i.prototype.at=function(t){var r,e,n,o,s,a,u,h=this;s=t,o=this.o.points||i.properties.points["default"],r=[],u=function(t,i){var e;return e=function(r){return h.B(r,t,t.controlPoints[t.controlPoints.length-1],i.controlPoints[0],i)},r.push(e)};for(e in o){if(n=parseInt(e),n>=o.length-1)break;u(o[n],o[n+1])}return a=this.yForX(s,r),[s,a]},i}(n),s=function(t){function i(t){var e,n;this.o=null!=t?t:{},this.at=x(this.at,this),i.__super__.constructor.apply(this,arguments),e=this.o.friction||i.properties.friction["default"],n=[{x:0,y:0,controlPoints:[{x:1-e/1e3,y:0}]},{x:1,y:1,controlPoints:[{x:e/1e3,y:1}]}],this.bezier=new r({type:r,duration:this.o.duration,points:n})}return M(i,t),i.properties={friction:{min:1,max:1e3,"default":500},duration:{min:100,max:4e3,"default":1e3}},i.prototype.at=function(t){return this.bezier.at(t)},i}(n),m=function(t){var i,r;return r={},i=function(){var i,e,n,o,s;for(e="",o=0,s=arguments.length;s>o;o++)i=arguments[o],e+=i.toString()+",";return n=r[e],n||(r[e]=n=t.apply(this,arguments)),n}},e=function(){function t(){}return t.transform=function(){return this.withPrefix("transform")},t.keyframes=function(){return void 0!==document.body.style.webkitAnimation?"-webkit-keyframes":void 0!==document.body.style.mozAnimation?"-moz-keyframes":"keyframes"},t.withPrefix=function(t){var i;return i=this.prefixFor(t),"Moz"===i?""+i+(t.substring(0,1).toUpperCase()+t.substring(1)):""!==i?"-"+i.toLowerCase()+"-"+t:t},t.prefixFor=m(function(t){var i,r,e,n,o,s,a,u,h,p;for(n=t.split("-"),o="",s=0,u=n.length;u>s;s++)e=n[s],o+=e.substring(0,1).toUpperCase()+e.substring(1);for(p=["Webkit","Moz"],a=0,h=p.length;h>a;a++)if(r=p[a],i=r+o,void 0!==document.body.style[i])return r;return""}),t}(),f={},f.length=function(t){var i,r,e,n,o;for(i=0,o=t.elements,e=0,n=o.length;n>e;e++)r=o[e],i+=Math.pow(r,2);return Math.sqrt(i)},f.normalize=function(t){var i,r,e,n,o;e=f.length(t),n=[],o=t.elements;for(r in o)i=o[r],n[r]=i/e;return Vector.create(n)},f.combine=function(t,i,r,e){var n,o,s;for(o=[],n=s=0;2>=s;n=++s)o[n]=r*t.elements[n]+e*i.elements[n];return Vector.create(o)},p={},p.decompose=function(t){var i,r,e,n,o,s,a,u,h,p,l,c,m,y,d,v,g,x,b,M,_,F,w,T,S,P,q,V,z,k,B,O,H,C,D,A;if(x=[],d=[],v=[],h=[],a=[],i=t.elements,0===i[3][3])return!1;for(r=P=0;3>=P;r=++P)for(n=q=0;3>=q;n=++q)i[r][n]/=i[3][3];for(u=t.dup(),r=V=0;2>=V;r=++V)u.elements[r][3]=0;if(u.elements[3][3]=1,0!==i[0][3]||0!==i[1][3]||0!==i[2][3]){for(p=Vector.create(i.slice(0,4)[3]),e=u.inverse(),b=e.transpose(),a=b.multiply(p).elements,r=z=0;2>=z;r=++z)i[r][3]=0;i[3][3]=1}else a=[0,0,0,1];for(r=B=0;2>=B;r=++B)x[r]=i[3][r],i[3][r]=0;for(c=[],r=O=0;2>=O;r=++O)c[r]=Vector.create(i[r].slice(0,3));if(d[0]=f.length(c[0]),c[0]=f.normalize(c[0]),v[0]=c[0].dot(c[1]),c[1]=f.combine(c[1],c[0],1,-v[0]),d[1]=f.length(c[1]),c[1]=f.normalize(c[1]),v[0]/=d[1],v[1]=c[0].dot(c[2]),c[2]=f.combine(c[2],c[0],1,-v[1]),v[2]=c[1].dot(c[2]),c[2]=f.combine(c[2],c[1],1,-v[2]),d[2]=f.length(c[2]),c[2]=f.normalize(c[2]),v[1]/=d[2],v[2]/=d[2],s=c[1].cross(c[2]),c[0].dot(s)<0)for(r=H=0;2>=H;r=++H)for(d[r]*=-1,n=C=0;2>=C;n=++C)c[r].elements[n]*=-1;for(m=function(t,i){return c[t].elements[i]},l=[],l[1]=Math.asin(-m(0,2)),0!==Math.cos(l[1])?(l[0]=Math.atan2(m(1,2),m(2,2)),l[2]=Math.atan2(m(0,1),m(0,0))):(l[0]=Math.atan2(-m(2,0),m(1,1)),l[1]=0),g=m(0,0)+m(1,1)+m(2,2)+1,g>1e-4?(y=.5/Math.sqrt(g),F=.25/y,w=(m(2,1)-m(1,2))*y,T=(m(0,2)-m(2,0))*y,S=(m(1,0)-m(0,1))*y):m(0,0)>m(1,1)&&m(0,0)>m(2,2)?(y=2*Math.sqrt(1+m(0,0)-m(1,1)-m(2,2)),w=.25*y,T=(m(0,1)+m(1,0))/y,S=(m(0,2)+m(2,0))/y,F=(m(2,1)-m(1,2))/y):m(1,1)>m(2,2)?(y=2*Math.sqrt(1+m(1,1)-m(0,0)-m(2,2)),w=(m(0,1)+m(1,0))/y,T=.25*y,S=(m(1,2)+m(2,1))/y,F=(m(0,2)-m(2,0))/y):(y=2*Math.sqrt(1+m(2,2)-m(0,0)-m(1,1)),w=(m(0,2)+m(2,0))/y,T=(m(1,2)+m(2,1))/y,S=.25*y,F=(m(1,0)-m(0,1))/y),h=[w,T,S,F],A=[x,d,v,h,a,l],D=0,k=A.length;k>D;D++){M=A[D];for(o in M)_=M[o],isNaN(_)&&(M[o]=0)}return{translate:x,scale:d,skew:v,quaternion:h,perspective:a,rotate:l}},p.interpolate=function(t,i,r){var e,n,o,s,a,u,h,p,l,c,f,m,y,d,v,g,x;for(n={translate:[],scale:[],skew:[],quaternion:[],perspective:[]},g=["translate","scale","skew","perspective"],f=0,v=g.length;v>f;f++)for(u=g[f],o=m=0,x=t[u].length-1;x>=0?x>=m:m>=x;o=x>=0?++m:--m)n[u][o]=(i[u][o]-t[u][o])*r+t[u][o];if(h=t.quaternion,p=i.quaternion,e=h[0]*p[0]+h[1]*p[1]+h[2]*p[2]+h[3]*p[3],0>e){for(o=y=0;3>=y;o=++y)h[o]=-h[o];e=-e}for(e+1>.05?1-e>=.05?(c=Math.acos(e),a=1/Math.sin(c),l=Math.sin(c*(1-r))*a,s=Math.sin(c*r)*a):(l=1-r,s=r):(p[0]=-h[1],p[1]=h[0],p[2]=-h[3],p[3]=h[2],l=Math.sin(piDouble*(.5-r)),s=Math.sin(piDouble*r)),o=d=0;3>=d;o=++d)n.quaternion[o]=h[o]*l+p[o]*s;return n},p.recompose=function(t){var i,r,e,n,o,s,a,u,h,p,l,c,f,m,y;for(n=Matrix.I(4),i=c=0;3>=c;i=++c)n.elements[i][3]=t.perspective[i];for(o=t.quaternion,h=o[0],p=o[1],l=o[2],u=o[3],s=t.skew,e=[[1,0],[2,0],[2,1]],i=f=2;f>=0;i=--f)s[i]&&(a=Matrix.I(4),a.elements[e[i][0]][e[i][1]]=s[i],n=n.multiply(a));for(n=n.multiply(Matrix.create([[1-2*(p*p+l*l),2*(h*p-l*u),2*(h*l+p*u),0],[2*(h*p+l*u),1-2*(h*h+l*l),2*(p*l-h*u),0],[2*(h*l-p*u),2*(p*l+h*u),1-2*(h*h+p*p),0],[0,0,0,1]])),i=m=0;2>=m;i=++m){for(r=y=0;2>=y;r=++y)n.elements[i][r]*=t.scale[i];n.elements[3][i]=t.translate[i]}return n},p.matrixToString=function(t){var i,r,e,n,o;for(e="matrix3d(",i=n=0;3>=n;i=++n)for(r=o=0;3>=o;r=++o)e+=t.elements[i][r],(3!==i||3!==r)&&(e+=",");return e+=")"},p.transformStringToMatrixString=m(function(t){var i,r,n;return i=document.createElement("div"),i.style[e.transform()]=t,document.body.appendChild(i),n=window.getComputedStyle(i,null),r=n.transform||n[e.transform()],document.body.removeChild(i),r}),i=[],d=function(t,i){var r,e;for(r in t)if(e=t[r],null!=i[r])return!0;return!1},g=function(t,r){var e,n,o,s;for(s=[],n=0,o=i.length;o>n;n++)e=i[n],s.push(e.el===t&&d(e.to,r)?e.stop():void 0);return s},v=["marginTop","marginLeft","marginBottom","marginRight","paddingTop","paddingLeft","paddingBottom","paddingRight","top","left","bottom","right"],y=function(t,i){var r,n,o,s;s=[];for(r in i)o=i[r],n="",-1!==v.indexOf(r.toLowerCase())&&(n="px"),s.push(t.style[e.withPrefix(r)]=""+o+n);return s},t=function(){function t(t,r,e){var n;this.el=t,this.to=r,null==e&&(e={}),this.apply=x(this.apply,this),this.frame=x(this.frame,this),this.stop=x(this.stop,this),this._start=x(this._start,this),this.start=x(this.start,this),this.defaultForProperty=x(this.defaultForProperty,this),this.parseFrames=x(this.parseFrames,this),this.getFirstFrame=x(this.getFirstFrame,this),this.convertToMatrix3d=x(this.convertToMatrix3d,this),this.convertTransformToMatrix=x(this.convertTransformToMatrix,this),this.dynamic=x(this.dynamic,this),this.setOptions=x(this.setOptions,this),window.jQuery&&this.el instanceof jQuery&&(this.el=this.el[0]),this.animating=!1,n=this.el.offsetHeight,this.frames=this.parseFrames({0:this.getFirstFrame(this.to),100:this.to}),this.setOptions(e),this.o.debugName&&o.InteractivePanel&&o.InteractivePanel.addAnimation(this),i.push(this)}return t.index=0,t.prototype.setOptions=function(t){var i,r,e,n,s,a,u,p,l,c;return null==t&&(t={}),i=null!=(a=this.o)?a.optionsChanged:void 0,this.o=t,null==(u=(r=this.o).duration)&&(r.duration=1e3),null==(p=(e=this.o).complete)&&(e.complete=null),null==(l=(n=this.o).type)&&(n.type=h),null==(c=(s=this.o).animated)&&(s.animated=!0),this.returnsToSelf=!1||this.dynamic().returnsToSelf,this._dynamic=null,this.o.debugName&&o.Overrides&&o.Overrides["for"](this.o.debugName)&&(this.o=o.Overrides.getOverride(this.o,this.o.debugName)),this.dynamic().init(),"function"==typeof i?i():void 0},t.prototype.dynamic=function(){var t;return null==(t=this._dynamic)&&(this._dynamic=new this.o.type(this.o)),this._dynamic},t.prototype.convertTransformToMatrix=function(t){return p.transformStringToMatrixString(t)},t.prototype.convertToMatrix3d=function(t){var i,r,e,n,o,s;for(n=t.match(/matrix3?d?\(([-0-9, \.]*)\)/),n?(i=n[1].split(","),i=i.map(parseFloat),r=6===i.length?[i[0],i[1],0,0,i[2],i[3],0,0,0,0,1,0,i[4],i[5],0,1]:i):r=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],o=[],e=s=0;3>=s;e=++s)o.push(r.slice(4*e,4*e+4));return Matrix.create(o)},t.prototype.getFirstFrame=function(t){var i,r,n,o;i={},n=window.getComputedStyle(this.el,null);for(r in t)o=this.el.style[e.withPrefix(r)],o||(o=n[e.withPrefix(r)]),i[r]=o;return i},t.prototype.parseFrames=function(t){var i,r,e,n,o,s,a,u,h,l;e={};for(o in t){s=t[o],n={};for(i in s)u=s[i],"transform"!==i?(h=u+"",r=h.match(/([-0-9.]*)(.*)/),l=parseFloat(r[1]),a=r[2]):(l=p.decompose(this.convertToMatrix3d(this.convertTransformToMatrix(u))),a=""),n[i]={value:l,unit:a};e[o]=n}return e},t.prototype.defaultForProperty=function(t){return"opacity"===t?1:0},t.prototype.start=function(t){var i;return null==t&&(t={}),null==(i=t.delay)&&(t.delay=0),g(this.el,this.to),t.delay<=0?this._start():setTimeout(this._start,t.delay)},t.prototype._start=function(){return this.o.animated?(this.animating=!0,this.ts=null,this.stopped&&(this.stopped=!1),requestAnimationFrame(this.frame)):void this.apply(1,{progress:1})},t.prototype.stop=function(){return this.animating=!1,this.stopped=!0},t.prototype.frame=function(t){var i,r,e,n;if(!this.stopped)return e=0,this.ts?(r=t-this.ts,e=r/this.o.duration):this.ts=t,i=this.dynamic().at(e),this.apply(i[1],{progress:e}),1>e?requestAnimationFrame(this.frame):(this.animating=!1,this.dynamic().init(),"function"==typeof(n=this.o).complete?n.complete(this):void 0)},t.prototype.apply=function(t,i){var r,e,n,o,s,a,u,h,l,c,f,m,d;null==i&&(i={}),e=this.frames[0],n=this.frames[100],h=i.progress,null==h&&(h=-1),c="",l={};for(o in n)m=n[o],d=m.value,f=m.unit,a=null,h>=1&&(a=this.returnsToSelf?e[o].value:n[o].value),"transform"===o?(null==a&&(a=p.interpolate(e[o].value,n[o].value,t)),s=p.recompose(a),l.transform=p.matrixToString(s)):(a||(u=null,e[o]&&(u=e[o].value),null==u&&(u=this.defaultForProperty(o)),r=d-u,a=u+r*t),l[o]=a);return y(this.el,l)},t}(),o={Animation:t,Types:{Spring:c,SelfSpring:l,Gravity:a,GravityWithForce:u,Linear:h,Bezier:r,EaseInOut:s},css:y};try{module?module.exports=o:this.Dynamics=o}catch(_){this.Dynamics=o}}).call(this);