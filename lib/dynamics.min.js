(function(){var t,i,n,r,e,o,s,a,u,h,p,l,c,f,m,y,d,v,g,x=function(t,i){return function(){return t.apply(i,arguments)}},b={}.hasOwnProperty,M=function(t,i){function n(){this.constructor=t}for(var r in i)b.call(i,r)&&(t[r]=i[r]);return n.prototype=i.prototype,t.prototype=new n,t.__super__=i.prototype,t};e=function(){function t(t){var i,n,r;this.options=null!=t?t:{},this.at=x(this.at,this),this.next=x(this.next,this),this.init=x(this.init,this),r=this.options.type.properties;for(i in r)n=r[i],null!=this.options[i]||n.editable||(this.options[i]=n["default"])}return t.properties={},t.prototype.init=function(){return this.t=0},t.prototype.next=function(t){var i;return this.t>1&&(this.t=1),i=this.at(this.t),this.t+=t,i},t.prototype.at=function(t){return[t,t]},t}(),h=function(t){function i(){return this.at=x(this.at,this),this.init=x(this.init,this),i.__super__.constructor.apply(this,arguments)}return M(i,t),i.properties={duration:{min:100,max:4e3,"default":1e3}},i.prototype.init=function(){return i.__super__.init.apply(this,arguments)},i.prototype.at=function(t){return[t,t]},i}(e),a=function(t){function i(t){var n;this.options=null!=t?t:{},this.at=x(this.at,this),this.curve=x(this.curve,this),this.init=x(this.init,this),this.length=x(this.length,this),this.gravityValue=x(this.gravityValue,this),this.bounceValue=x(this.bounceValue,this),this.duration=x(this.duration,this),this.expectedDuration=x(this.expectedDuration,this),null==(n=this.initialForce)&&(this.initialForce=!1),this.options.duration=this.duration(),i.__super__.constructor.call(this,this.options)}return M(i,t),i.properties={bounce:{min:0,max:80,"default":40},gravity:{min:1,max:4e3,"default":1e3},expectedDuration:{editable:!1}},i.prototype.expectedDuration=function(){return this.duration()},i.prototype.duration=function(){return Math.round(1e6/this.options.gravity*this.length())},i.prototype.bounceValue=function(){var t;return t=this.options.bounce/100,t=Math.min(t,80)},i.prototype.gravityValue=function(){return this.options.gravity/100},i.prototype.length=function(){var t,i,n,r,e;for(n=this.bounceValue(),e=this.gravityValue(),i=Math.sqrt(2/e),r={a:-i,b:i,H:1},this.initialForce&&(r.a=0,r.b=2*r.b);r.H>.001;)t=r.b-r.a,r={a:r.b,b:r.b+t*n,H:r.H*n*n};return r.b},i.prototype.init=function(){var t,n,r,e,o,s;for(i.__super__.init.apply(this,arguments),t=this.length(),o=this.gravityValue(),o=o*t*t,r=this.bounceValue(),n=Math.sqrt(2/o),this.curves=[],e={a:-n,b:n,H:1},this.initialForce&&(e.a=0,e.b=2*e.b),this.curves.push(e),s=[];e.b<1&&e.H>.001;)t=e.b-e.a,e={a:e.b,b:e.b+t*r,H:e.H*r*r},s.push(this.curves.push(e));return s},i.prototype.curve=function(t,i,n,r){var e,o,s;return e=i-t,s=2/e*r-1-2*t/e,o=s*s*n-n+1,this.initialForce&&(o=1-o),o},i.prototype.at=function(t){var i,n,r,e,o;for(i=this.options.bounce/100,r=this.options.gravity,e=0,n=this.curves[e];!(t>=n.a&&t<=n.b)&&(e+=1,n=this.curves[e]););return o=n?this.curve(n.a,n.b,n.H,t):this.initialForce?0:1,[t,o]},i}(e),u=function(t){function i(t){this.options=null!=t?t:{},this.initialForce=!0,i.__super__.constructor.call(this,this.options)}return M(i,t),i.prototype.returnsToSelf=!0,i}(a),c=function(t){function i(){return this.at=x(this.at,this),i.__super__.constructor.apply(this,arguments)}return M(i,t),i.properties={frequency:{min:0,max:100,"default":15},friction:{min:1,max:1e3,"default":200},anticipationStrength:{min:0,max:1e3,"default":0},anticipationSize:{min:0,max:99,"default":0},duration:{min:100,max:4e3,"default":1e3}},i.prototype.at=function(t){var i,n,r,e,o,s,a,u,h,p,l,c,f,m=this;return a=Math.max(1,this.options.frequency),u=Math.pow(20,this.options.friction/100),p=this.options.anticipationSize/100,s=Math.max(0,p),h=t/(1-p)-p/(1-p),p>t?(i=function(t){var i,n,r,e,o;return i=.8,e=p/(1-p),o=0,r=(e-i*o)/(e-o),n=(i-r)/e,n*t*m.options.anticipationStrength/100+r},f=p/(1-p)-p/(1-p),c=0/(1-p)-p/(1-p),o=Math.acos(1/i(f)),r=(Math.acos(1/i(c))-o)/(a*-p)):(i=function(t){return Math.pow(u/10,-t)*(1-t)},o=0,r=1),n=i(h),e=a*(t-p)*r+o,l=1-n*Math.cos(e),[t,l,n,h,e]},i}(e),l=function(t){function i(){return this.at=x(this.at,this),i.__super__.constructor.apply(this,arguments)}return M(i,t),i.properties={frequency:{min:0,max:100,"default":15},friction:{min:1,max:1e3,"default":200},duration:{min:100,max:4e3,"default":1e3}},i.prototype.returnsToSelf=!0,i.prototype.at=function(t){var i,n,r,e,o,s,a,u;return s=Math.max(1,this.options.frequency),a=Math.pow(20,this.options.friction/100),i=function(t){return 1-Math.pow(a/10,-t)*(1-t)},n=i(t),r=i(1-t),e=Math.cos(2*t*3.14-3.14)/2+.5,e=Math.pow(e,this.options.friction/100),o=s*t,u=Math.cos(o)*e,[t,u,e,-e]},i}(e),n=function(t){function i(t){this.options=null!=t?t:{},this.at=x(this.at,this),this.yForX=x(this.yForX,this),this.B=x(this.B,this),this.B_=x(this.B_,this),this.returnsToSelf=0===this.options.points[this.options.points.length-1].y,i.__super__.constructor.call(this,this.options)}return M(i,t),i.properties={points:{type:"points","default":[{x:0,y:0,controlPoints:[{x:.2,y:0}]},{x:.5,y:1.2,controlPoints:[{x:.3,y:1.2},{x:.8,y:1.2}]},{x:1,y:1,controlPoints:[{x:.8,y:1}]}]},duration:{min:100,max:4e3,"default":1e3}},i.prototype.B_=function(t,i,n,r,e){return Math.pow(1-t,3)*i+3*Math.pow(1-t,2)*t*n+3*(1-t)*Math.pow(t,2)*r+Math.pow(t,3)*e},i.prototype.B=function(t,i,n,r,e){return{x:this.B_(t,i.x,n.x,r.x,e.x),y:this.B_(t,i.y,n.y,r.y,e.y)}},i.prototype.yForX=function(t,i){var n,r,e,o,s,a,u,h,p,l;for(n=null,p=0,l=i.length;l>p&&(r=i[p],t>=r(0).x&&t<=r(1).x&&(n=r),null===n);p++);if(!n)return this.returnsToSelf?0:1;for(h=1e-4,o=0,a=1,s=(a+o)/2,u=n(s).x,e=0;Math.abs(t-u)>h&&100>e;)t>u?o=s:a=s,s=(a+o)/2,u=n(s).x,e+=1;return n(s).y},i.prototype.at=function(t){var n,r,e,o,s,a,u,h=this;s=t,o=this.options.points||i.properties.points["default"],n=[],u=function(t,i){var r;return r=function(n){return h.B(n,t,t.controlPoints[t.controlPoints.length-1],i.controlPoints[0],i)},n.push(r)};for(r in o){if(e=parseInt(r),e>=o.length-1)break;u(o[e],o[e+1])}return a=this.yForX(s,n),[s,a]},i}(e),s=function(t){function i(t){var r,e;this.options=null!=t?t:{},this.at=x(this.at,this),i.__super__.constructor.apply(this,arguments),r=this.options.friction||i.properties.friction["default"],e=[{x:0,y:0,controlPoints:[{x:1-r/1e3,y:0}]},{x:1,y:1,controlPoints:[{x:r/1e3,y:1}]}],this.bezier=new n({type:n,duration:this.options.duration,points:e})}return M(i,t),i.properties={friction:{min:1,max:1e3,"default":500},duration:{min:100,max:4e3,"default":1e3}},i.prototype.at=function(t){return this.bezier.at(t)},i}(e),m=function(t){var i,n;return n={},i=function(){var i,r,e,o,s;for(r="",o=0,s=arguments.length;s>o;o++)i=arguments[o],r+=i.toString()+",";return e=n[r],e||(n[r]=e=t.apply(this,arguments)),e}},r=function(){function t(){}return t.transform=function(){return this.withPrefix("transform")},t.keyframes=function(){return void 0!==document.body.style.webkitAnimation?"-webkit-keyframes":void 0!==document.body.style.mozAnimation?"-moz-keyframes":"keyframes"},t.withPrefix=function(t){var i;return i=this.prefixFor(t),"Moz"===i?""+i+(t.substring(0,1).toUpperCase()+t.substring(1)):""!==i?"-"+i.toLowerCase()+"-"+t:t},t.prefixFor=m(function(t){var i,n,r,e,o,s,a,u,h,p;for(e=t.split("-"),o="",s=0,u=e.length;u>s;s++)r=e[s],o+=r.substring(0,1).toUpperCase()+r.substring(1);for(p=["Webkit","Moz"],a=0,h=p.length;h>a;a++)if(n=p[a],i=n+o,void 0!==document.body.style[i])return n;return""}),t}(),f={},f.length=function(t){var i,n,r,e,o;for(i=0,o=t.elements,r=0,e=o.length;e>r;r++)n=o[r],i+=Math.pow(n,2);return Math.sqrt(i)},f.normalize=function(t){var i,n,r,e,o;r=f.length(t),e=[],o=t.elements;for(n in o)i=o[n],e[n]=i/r;return Vector.create(e)},f.combine=function(t,i,n,r){var e,o,s;for(o=[],e=s=0;2>=s;e=++s)o[e]=n*t.elements[e]+r*i.elements[e];return Vector.create(o)},p={},p.decompose=function(t){var i,n,r,e,o,s,a,u,h,p,l,c,m,y,d,v,g,x,b,M,_,F,w,T,S,P,q,V,z,k,B,O,H,C,D,A;if(x=[],d=[],v=[],h=[],a=[],i=t.elements,0===i[3][3])return!1;for(n=P=0;3>=P;n=++P)for(e=q=0;3>=q;e=++q)i[n][e]/=i[3][3];for(u=t.dup(),n=V=0;2>=V;n=++V)u.elements[n][3]=0;if(u.elements[3][3]=1,0!==i[0][3]||0!==i[1][3]||0!==i[2][3]){for(p=Vector.create(i.slice(0,4)[3]),r=u.inverse(),b=r.transpose(),a=b.multiply(p).elements,n=z=0;2>=z;n=++z)i[n][3]=0;i[3][3]=1}else a=[0,0,0,1];for(n=B=0;2>=B;n=++B)x[n]=i[3][n],i[3][n]=0;for(c=[],n=O=0;2>=O;n=++O)c[n]=Vector.create(i[n].slice(0,3));if(d[0]=f.length(c[0]),c[0]=f.normalize(c[0]),v[0]=c[0].dot(c[1]),c[1]=f.combine(c[1],c[0],1,-v[0]),d[1]=f.length(c[1]),c[1]=f.normalize(c[1]),v[0]/=d[1],v[1]=c[0].dot(c[2]),c[2]=f.combine(c[2],c[0],1,-v[1]),v[2]=c[1].dot(c[2]),c[2]=f.combine(c[2],c[1],1,-v[2]),d[2]=f.length(c[2]),c[2]=f.normalize(c[2]),v[1]/=d[2],v[2]/=d[2],s=c[1].cross(c[2]),c[0].dot(s)<0)for(n=H=0;2>=H;n=++H)for(d[n]*=-1,e=C=0;2>=C;e=++C)c[n].elements[e]*=-1;for(m=function(t,i){return c[t].elements[i]},l=[],l[1]=Math.asin(-m(0,2)),0!==Math.cos(l[1])?(l[0]=Math.atan2(m(1,2),m(2,2)),l[2]=Math.atan2(m(0,1),m(0,0))):(l[0]=Math.atan2(-m(2,0),m(1,1)),l[1]=0),g=m(0,0)+m(1,1)+m(2,2)+1,g>1e-4?(y=.5/Math.sqrt(g),F=.25/y,w=(m(2,1)-m(1,2))*y,T=(m(0,2)-m(2,0))*y,S=(m(1,0)-m(0,1))*y):m(0,0)>m(1,1)&&m(0,0)>m(2,2)?(y=2*Math.sqrt(1+m(0,0)-m(1,1)-m(2,2)),w=.25*y,T=(m(0,1)+m(1,0))/y,S=(m(0,2)+m(2,0))/y,F=(m(2,1)-m(1,2))/y):m(1,1)>m(2,2)?(y=2*Math.sqrt(1+m(1,1)-m(0,0)-m(2,2)),w=(m(0,1)+m(1,0))/y,T=.25*y,S=(m(1,2)+m(2,1))/y,F=(m(0,2)-m(2,0))/y):(y=2*Math.sqrt(1+m(2,2)-m(0,0)-m(1,1)),w=(m(0,2)+m(2,0))/y,T=(m(1,2)+m(2,1))/y,S=.25*y,F=(m(1,0)-m(0,1))/y),h=[w,T,S,F],A=[x,d,v,h,a,l],D=0,k=A.length;k>D;D++){M=A[D];for(o in M)_=M[o],isNaN(_)&&(M[o]=0)}return{translate:x,scale:d,skew:v,quaternion:h,perspective:a,rotate:l}},p.interpolate=function(t,i,n){var r,e,o,s,a,u,h,p,l,c,f,m,y,d,v,g,x;for(e={translate:[],scale:[],skew:[],quaternion:[],perspective:[]},g=["translate","scale","skew","perspective"],f=0,v=g.length;v>f;f++)for(u=g[f],o=m=0,x=t[u].length-1;x>=0?x>=m:m>=x;o=x>=0?++m:--m)e[u][o]=(i[u][o]-t[u][o])*n+t[u][o];if(h=t.quaternion,p=i.quaternion,r=h[0]*p[0]+h[1]*p[1]+h[2]*p[2]+h[3]*p[3],0>r){for(o=y=0;3>=y;o=++y)h[o]=-h[o];r=-r}for(r+1>.05?1-r>=.05?(c=Math.acos(r),a=1/Math.sin(c),l=Math.sin(c*(1-n))*a,s=Math.sin(c*n)*a):(l=1-n,s=n):(p[0]=-h[1],p[1]=h[0],p[2]=-h[3],p[3]=h[2],l=Math.sin(piDouble*(.5-n)),s=Math.sin(piDouble*n)),o=d=0;3>=d;o=++d)e.quaternion[o]=h[o]*l+p[o]*s;return e},p.recompose=function(t){var i,n,r,e,o,s,a,u,h,p,l,c,f,m,y;for(e=Matrix.I(4),i=c=0;3>=c;i=++c)e.elements[i][3]=t.perspective[i];for(o=t.quaternion,h=o[0],p=o[1],l=o[2],u=o[3],s=t.skew,r=[[1,0],[2,0],[2,1]],i=f=2;f>=0;i=--f)s[i]&&(a=Matrix.I(4),a.elements[r[i][0]][r[i][1]]=s[i],e=e.multiply(a));for(e=e.multiply(Matrix.create([[1-2*(p*p+l*l),2*(h*p-l*u),2*(h*l+p*u),0],[2*(h*p+l*u),1-2*(h*h+l*l),2*(p*l-h*u),0],[2*(h*l-p*u),2*(p*l+h*u),1-2*(h*h+p*p),0],[0,0,0,1]])),i=m=0;2>=m;i=++m){for(n=y=0;2>=y;n=++y)e.elements[i][n]*=t.scale[i];e.elements[3][i]=t.translate[i]}return e},p.matrixToString=function(t){var i,n,r,e,o;for(r="matrix3d(",i=e=0;3>=e;i=++e)for(n=o=0;3>=o;n=++o)r+=t.elements[i][n],(3!==i||3!==n)&&(r+=",");return r+=")"},p.transformStringToMatrixString=m(function(t){var i,n,e;return i=document.createElement("div"),i.style[r.transform()]=t,document.body.appendChild(i),e=window.getComputedStyle(i,null),n=e.transform||e[r.transform()],document.body.removeChild(i),n}),i=[],d=function(t,i){var n,r;for(n in t)if(r=t[n],null!=i[n])return!0;return!1},g=function(t,n){var r,e,o,s;for(s=[],e=0,o=i.length;o>e;e++)r=i[e],s.push(r.el===t&&d(r.to,n)?r.stop():void 0);return s},v=["marginTop","marginLeft","marginBottom","marginRight","paddingTop","paddingLeft","paddingBottom","paddingRight","top","left","bottom","right"],y=function(t,i){var n,e,o,s;s=[];for(n in i)o=i[n],e="",-1!==v.indexOf(n.toLowerCase())&&(e="px"),s.push(t.style[r.withPrefix(n)]=""+o+e);return s},t=function(){function t(t,n,r){var e;this.el=t,this.to=n,null==r&&(r={}),this.apply=x(this.apply,this),this.frame=x(this.frame,this),this.stop=x(this.stop,this),this._start=x(this._start,this),this.start=x(this.start,this),this.defaultForProperty=x(this.defaultForProperty,this),this.parseFrames=x(this.parseFrames,this),this.getFirstFrame=x(this.getFirstFrame,this),this.convertToMatrix3d=x(this.convertToMatrix3d,this),this.convertTransformToMatrix=x(this.convertTransformToMatrix,this),this.dynamic=x(this.dynamic,this),this.setOptions=x(this.setOptions,this),window.jQuery&&this.el instanceof jQuery&&(this.el=this.el[0]),this.animating=!1,e=this.el.offsetHeight,this.frames=this.parseFrames({0:this.getFirstFrame(this.to),100:this.to}),this.setOptions(r),this.options.debugName&&o.InteractivePanel&&o.InteractivePanel.addAnimation(this),i.push(this)}return t.index=0,t.prototype.setOptions=function(t){var i,n,r,e,s,a,u,p,l,c;return null==t&&(t={}),i=null!=(a=this.options)?a.optionsChanged:void 0,this.options=t,null==(u=(n=this.options).duration)&&(n.duration=1e3),null==(p=(r=this.options).complete)&&(r.complete=null),null==(l=(e=this.options).type)&&(e.type=h),null==(c=(s=this.options).animated)&&(s.animated=!0),this.returnsToSelf=!1||this.dynamic().returnsToSelf,this._dynamic=null,this.options.debugName&&o.Overrides&&o.Overrides["for"](this.options.debugName)&&(this.options=o.Overrides.getOverride(this.options,this.options.debugName)),this.dynamic().init(),"function"==typeof i?i():void 0},t.prototype.dynamic=function(){var t;return null==(t=this._dynamic)&&(this._dynamic=new this.options.type(this.options)),this._dynamic},t.prototype.convertTransformToMatrix=function(t){return p.transformStringToMatrixString(t)},t.prototype.convertToMatrix3d=function(t){var i,n,r,e,o,s;for(e=t.match(/matrix3?d?\(([-0-9, \.]*)\)/),e?(i=e[1].split(","),i=i.map(parseFloat),n=6===i.length?[i[0],i[1],0,0,i[2],i[3],0,0,0,0,1,0,i[4],i[5],0,1]:i):n=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],o=[],r=s=0;3>=s;r=++s)o.push(n.slice(4*r,4*r+4));return Matrix.create(o)},t.prototype.getFirstFrame=function(t){var i,n,e,o;i={},e=window.getComputedStyle(this.el,null);for(n in t)o=this.el.style[r.withPrefix(n)],o||(o=e[r.withPrefix(n)]),i[n]=o;return i},t.prototype.parseFrames=function(t){var i,n,r,e,o,s,a,u,h,l;r={};for(o in t){s=t[o],e={};for(i in s)u=s[i],"transform"!==i?(h=u+"",n=h.match(/([-0-9.]*)(.*)/),l=parseFloat(n[1]),a=n[2]):(l=p.decompose(this.convertToMatrix3d(this.convertTransformToMatrix(u))),a=""),e[i]={value:l,unit:a};r[o]=e}return r},t.prototype.defaultForProperty=function(t){return"opacity"===t?1:0},t.prototype.start=function(t){var i;return null==t&&(t={}),null==(i=t.delay)&&(t.delay=0),g(this.el,this.to),t.delay<=0?this._start():setTimeout(this._start,t.delay)},t.prototype._start=function(){return this.options.animated?(this.animating=!0,this.ts=null,this.stopped&&(this.stopped=!1),requestAnimationFrame(this.frame)):void this.apply(1,{progress:1})},t.prototype.stop=function(){return this.animating=!1,this.stopped=!0},t.prototype.frame=function(t){var i,n,r,e;if(!this.stopped)return r=0,this.ts?(n=t-this.ts,r=n/this.options.duration):this.ts=t,i=this.dynamic().at(r),this.apply(i[1],{progress:r}),1>r?requestAnimationFrame(this.frame):(this.animating=!1,this.dynamic().init(),"function"==typeof(e=this.options).complete?e.complete(this):void 0)},t.prototype.apply=function(t,i){var n,r,e,o,s,a,u,h,l,c,f,m,d;null==i&&(i={}),r=this.frames[0],e=this.frames[100],h=i.progress,null==h&&(h=-1),c="",l={};for(o in e)m=e[o],d=m.value,f=m.unit,a=null,h>=1&&(a=this.returnsToSelf?r[o].value:e[o].value),"transform"===o?(null==a&&(a=p.interpolate(r[o].value,e[o].value,t)),s=p.recompose(a),l.transform=p.matrixToString(s)):(a||(u=null,r[o]&&(u=r[o].value),null==u&&(u=this.defaultForProperty(o)),n=d-u,a=u+n*t),l[o]=a);return y(this.el,l)},t}(),o={Animation:t,Types:{Spring:c,SelfSpring:l,Gravity:a,GravityWithForce:u,Linear:h,Bezier:n,EaseInOut:s},css:y};try{module?module.exports=o:this.Dynamics=o}catch(_){this.Dynamics=o}}).call(this);