(function(){var t,i,n,e,r,o,s,a,u,h,p,l,c,f,m,y,d,v,g,x,b,_,M,w,q,S,F,V,B,O,P,T,H,C,D=function(t,i){return function(){return t.apply(i,arguments)}},z={}.hasOwnProperty,k=function(t,i){function n(){this.constructor=t}for(var e in i)z.call(i,e)&&(t[e]=i[e]);return n.prototype=i.prototype,t.prototype=new n,t.__super__=i.prototype,t};e=function(){function t(t){var i,n,e;this.options=null!=t?t:{},this.at=D(this.at,this),this.next=D(this.next,this),this.init=D(this.init,this),e=this.options.type.properties;for(i in e)n=e[i],null!=this.options[i]||n.editable||(this.options[i]=n["default"])}return t.properties={},t.prototype.init=function(){return this.t=0},t.prototype.next=function(t){var i;return this.t>1&&(this.t=1),i=this.at(this.t),this.t+=t,i},t.prototype.at=function(t){return[t,t]},t}(),u=function(t){function i(){return this.at=D(this.at,this),this.init=D(this.init,this),i.__super__.constructor.apply(this,arguments)}return k(i,t),i.properties={duration:{min:100,max:4e3,"default":1e3}},i.prototype.init=function(){return i.__super__.init.apply(this,arguments)},i.prototype.at=function(t){return[t,t]},i}(e),s=function(t){function i(t){var n;this.options=null!=t?t:{},this.at=D(this.at,this),this.curve=D(this.curve,this),this.init=D(this.init,this),this.length=D(this.length,this),this.gravityValue=D(this.gravityValue,this),this.bounceValue=D(this.bounceValue,this),this.duration=D(this.duration,this),this.expectedDuration=D(this.expectedDuration,this),null==(n=this.initialForce)&&(this.initialForce=!1),this.options.duration=this.duration(),i.__super__.constructor.call(this,this.options)}return k(i,t),i.properties={bounce:{min:0,max:80,"default":40},gravity:{min:1,max:4e3,"default":1e3},expectedDuration:{editable:!1}},i.prototype.expectedDuration=function(){return this.duration()},i.prototype.duration=function(){return Math.round(1e6/this.options.gravity*this.length())},i.prototype.bounceValue=function(){return Math.min(this.options.bounce/100,80)},i.prototype.gravityValue=function(){return this.options.gravity/100},i.prototype.length=function(){var t,i,n,e,r;for(n=this.bounceValue(),r=this.gravityValue(),i=Math.sqrt(2/r),e={a:-i,b:i,H:1},this.initialForce&&(e.a=0,e.b=2*e.b);e.H>.001;)t=e.b-e.a,e={a:e.b,b:e.b+t*n,H:e.H*n*n};return e.b},i.prototype.init=function(){var t,n,e,r,o,s;for(i.__super__.init.apply(this,arguments),t=this.length(),o=this.gravityValue()*t*t,e=this.bounceValue(),n=Math.sqrt(2/o),this.curves=[],r={a:-n,b:n,H:1},this.initialForce&&(r.a=0,r.b=2*r.b),this.curves.push(r),s=[];r.b<1&&r.H>.001;)t=r.b-r.a,r={a:r.b,b:r.b+t*e,H:r.H*e*e},s.push(this.curves.push(r));return s},i.prototype.curve=function(t,i,n,e){var r,o,s;return r=i-t,s=2/r*e-1-2*t/r,o=s*s*n-n+1,this.initialForce&&(o=1-o),o},i.prototype.at=function(t){var i,n,e,r,o;for(i=this.options.bounce/100,e=this.options.gravity,r=0,n=this.curves[r];!(t>=n.a&&t<=n.b)&&(r+=1,n=this.curves[r]););return o=n?this.curve(n.a,n.b,n.H,t):this.initialForce?0:1,[t,o]},i}(e),a=function(t){function i(t){this.options=null!=t?t:{},this.initialForce=!0,i.__super__.constructor.call(this,this.options)}return k(i,t),i.prototype.returnsToSelf=!0,i}(s),p=function(t){function i(){return this.at=D(this.at,this),i.__super__.constructor.apply(this,arguments)}return k(i,t),i.properties={frequency:{min:0,max:100,"default":15},friction:{min:1,max:1e3,"default":200},anticipationStrength:{min:0,max:1e3,"default":0},anticipationSize:{min:0,max:99,"default":0},duration:{min:100,max:4e3,"default":1e3}},i.prototype.at=function(t){var i,n,e,r,o,s,a,u,h,p,l,c,f,m=this;return a=Math.max(1,this.options.frequency),u=Math.pow(20,this.options.friction/100),p=this.options.anticipationSize/100,s=Math.max(0,p),h=t/(1-p)-p/(1-p),p>t?(i=function(t){var i,n,e,r,o;return i=.8,r=p/(1-p),o=0,e=(r-i*o)/(r-o),n=(i-e)/r,n*t*m.options.anticipationStrength/100+e},f=p/(1-p)-p/(1-p),c=0/(1-p)-p/(1-p),o=Math.acos(1/i(f)),e=(Math.acos(1/i(c))-o)/(a*-p)):(i=function(t){return Math.pow(u/10,-t)*(1-t)},o=0,e=1),n=i(h),r=a*(t-p)*e+o,l=1-n*Math.cos(r),[t,l,n,h,r]},i}(e),h=function(t){function i(){return this.at=D(this.at,this),i.__super__.constructor.apply(this,arguments)}return k(i,t),i.properties={frequency:{min:0,max:100,"default":15},friction:{min:1,max:1e3,"default":200},duration:{min:100,max:4e3,"default":1e3}},i.prototype.returnsToSelf=!0,i.prototype.at=function(t){var i,n,e,r,o,s,a,u;return s=Math.max(1,this.options.frequency),a=Math.pow(20,this.options.friction/100),i=function(t){return 1-Math.pow(a/10,-t)*(1-t)},n=i(t),e=i(1-t),r=Math.cos(2*t*3.14-3.14)/2+.5,r=Math.pow(r,this.options.friction/100),o=s*t,u=Math.cos(o)*r,[t,u,r,-r]},i}(e),n=function(t){function i(t){this.options=null!=t?t:{},this.at=D(this.at,this),this.yForX=D(this.yForX,this),this.B=D(this.B,this),this.B_=D(this.B_,this),this.returnsToSelf=0===this.options.points[this.options.points.length-1].y,i.__super__.constructor.call(this,this.options)}return k(i,t),i.properties={points:{type:"points","default":[{x:0,y:0,controlPoints:[{x:.2,y:0}]},{x:.5,y:1.2,controlPoints:[{x:.3,y:1.2},{x:.8,y:1.2}]},{x:1,y:1,controlPoints:[{x:.8,y:1}]}]},duration:{min:100,max:4e3,"default":1e3}},i.prototype.B_=function(t,i,n,e,r){return Math.pow(1-t,3)*i+3*Math.pow(1-t,2)*t*n+3*(1-t)*Math.pow(t,2)*e+Math.pow(t,3)*r},i.prototype.B=function(t,i,n,e,r){return{x:this.B_(t,i.x,n.x,e.x,r.x),y:this.B_(t,i.y,n.y,e.y,r.y)}},i.prototype.yForX=function(t,i){var n,e,r,o,s,a,u,h,p,l;for(n=null,p=0,l=i.length;l>p&&(e=i[p],t>=e(0).x&&t<=e(1).x&&(n=e),null===n);p++);if(!n)return this.returnsToSelf?0:1;for(h=1e-4,o=0,a=1,s=(a+o)/2,u=n(s).x,r=0;Math.abs(t-u)>h&&100>r;)t>u?o=s:a=s,s=(a+o)/2,u=n(s).x,r+=1;return n(s).y},i.prototype.at=function(t){var n,e,r,o,s,a,u,h=this;s=t,o=this.options.points||i.properties.points["default"],n=[],u=function(t,i){var e;return e=function(n){return h.B(n,t,t.controlPoints[t.controlPoints.length-1],i.controlPoints[0],i)},n.push(e)};for(e in o){if(r=parseInt(e),r>=o.length-1)break;u(o[r],o[r+1])}return a=this.yForX(s,n),[s,a]},i}(e),o=function(t){function i(t){var e,r;this.options=null!=t?t:{},this.at=D(this.at,this),i.__super__.constructor.apply(this,arguments),e=this.options.friction||i.properties.friction["default"],r=[{x:0,y:0,controlPoints:[{x:1-e/1e3,y:0}]},{x:1,y:1,controlPoints:[{x:e/1e3,y:1}]}],this.bezier=new n({type:n,duration:this.options.duration,points:r})}return k(i,t),i.properties={friction:{min:1,max:1e3,"default":500},duration:{min:100,max:4e3,"default":1e3}},i.prototype.at=function(t){return this.bezier.at(t)},i}(e),v=function(t){var i,n;return n={},i=function(){var i,e,r,o,s;for(e="",o=0,s=arguments.length;s>o;o++)i=arguments[o],e+=i.toString()+",";return r=n[e],r||(n[e]=r=t.apply(this,arguments)),r}},y=function(){return d("transform")},m=v(function(t){var i,n,e,r,o,s,a,u,h,p;for(r=t.split("-"),o="",s=0,u=r.length;u>s;s++)e=r[s],o+=e.substring(0,1).toUpperCase()+e.substring(1);for(p=["Webkit","Moz"],a=0,h=p.length;h>a;a++)if(n=p[a],i=n+o,void 0!==document.body.style[i])return n;return""}),d=function(t){var i;return i=m(t),"Moz"===i?""+i+(t.substring(0,1).toUpperCase()+t.substring(1)):""!==i?"-"+i.toLowerCase()+"-"+t:t},F=function(t){var i,n,e,r,o;for(i=0,o=t.elements,e=0,r=o.length;r>e;e++)n=o[e],i+=Math.pow(n,2);return Math.sqrt(i)},B=function(t){var i,n,e,r,o;e=F(t),r=[],o=t.elements;for(n in o)i=o[n],r[n]=i/e;return Vector.create(r)},g=function(t,i,n,e){var r,o,s;for(o=[],r=s=0;2>=s;r=++s)o[r]=n*t.elements[r]+e*i.elements[r];return Vector.create(o)},_=function(t){var i,n,e,r,o,s,a,u,h,p,l,c,f,m,y,d,v,x,b,_,M,w,q,S,V,O,P,T,H,C,D,z,k,I,N;if(b=[],d=[],v=[],h=[],a=[],i=t.elements,0===i[3][3])return!1;for(n=T=0;3>=T;n=++T)for(r=H=0;3>=H;r=++H)i[n][r]/=i[3][3];for(u=t.dup(),n=C=0;2>=C;n=++C)u.elements[n][3]=0;if(u.elements[3][3]=1,0!==i[0][3]||0!==i[1][3]||0!==i[2][3]){for(l=Vector.create(i.slice(0,4)[3]),e=u.inverse(),_=e.transpose(),a=_.multiply(l).elements,n=D=0;2>=D;n=++D)i[n][3]=0;i[3][3]=1}else a=[0,0,0,1];for(n=z=0;2>=z;n=++z)b[n]=i[3][n],i[3][n]=0;for(f=[],n=k=0;2>=k;n=++k)f[n]=Vector.create(i[n].slice(0,3));if(d[0]=F(f[0]),f[0]=B(f[0]),v[0]=f[0].dot(f[1]),f[1]=g(f[1],f[0],1,-v[0]),d[1]=F(f[1]),f[1]=B(f[1]),v[0]/=d[1],v[1]=f[0].dot(f[2]),f[2]=g(f[2],f[0],1,-v[1]),v[2]=f[1].dot(f[2]),f[2]=g(f[2],f[1],1,-v[2]),d[2]=F(f[2]),f[2]=B(f[2]),v[1]/=d[2],v[2]/=d[2],s=f[1].cross(f[2]),f[0].dot(s)<0)for(n=I=0;2>=I;n=++I)for(d[n]*=-1,r=N=0;2>=N;r=++N)f[n].elements[r]*=-1;m=function(t,i){return f[t].elements[i]},c=[],c[1]=Math.asin(-m(0,2)),0!==Math.cos(c[1])?(c[0]=Math.atan2(m(1,2),m(2,2)),c[2]=Math.atan2(m(0,1),m(0,0))):(c[0]=Math.atan2(-m(2,0),m(1,1)),c[1]=0),x=m(0,0)+m(1,1)+m(2,2)+1,x>1e-4?(y=.5/Math.sqrt(x),S=.25/y,V=(m(2,1)-m(1,2))*y,O=(m(0,2)-m(2,0))*y,P=(m(1,0)-m(0,1))*y):m(0,0)>m(1,1)&&m(0,0)>m(2,2)?(y=2*Math.sqrt(1+m(0,0)-m(1,1)-m(2,2)),V=.25*y,O=(m(0,1)+m(1,0))/y,P=(m(0,2)+m(2,0))/y,S=(m(2,1)-m(1,2))/y):m(1,1)>m(2,2)?(y=2*Math.sqrt(1+m(1,1)-m(0,0)-m(2,2)),V=(m(0,1)+m(1,0))/y,O=.25*y,P=(m(1,2)+m(2,1))/y,S=(m(0,2)-m(2,0))/y):(y=2*Math.sqrt(1+m(2,2)-m(0,0)-m(1,1)),V=(m(0,2)+m(2,0))/y,O=(m(1,2)+m(2,1))/y,P=.25*y,S=(m(1,0)-m(0,1))/y),h=[V,O,P,S],p={translate:b,scale:d,skew:v,quaternion:h,perspective:a,rotate:c};for(w in p){M=p[w];for(o in M)q=M[o],isNaN(q)&&(M[o]=0)}return p},S=function(t,i,n){var e,r,o,s,a,u,h,p,l,c,f,m,y,d,v,g,x;for(r={translate:[],scale:[],skew:[],quaternion:[],perspective:[]},g=["translate","scale","skew","perspective"],f=0,v=g.length;v>f;f++)for(u=g[f],o=m=0,x=t[u].length-1;x>=0?x>=m:m>=x;o=x>=0?++m:--m)r[u][o]=(i[u][o]-t[u][o])*n+t[u][o];if(h=t.quaternion,p=i.quaternion,e=h[0]*p[0]+h[1]*p[1]+h[2]*p[2]+h[3]*p[3],0>e){for(o=y=0;3>=y;o=++y)h[o]=-h[o];e=-e}for(e+1>.05?1-e>=.05?(c=Math.acos(e),a=1/Math.sin(c),l=Math.sin(c*(1-n))*a,s=Math.sin(c*n)*a):(l=1-n,s=n):(p[0]=-h[1],p[1]=h[0],p[2]=-h[3],p[3]=h[2],l=Math.sin(piDouble*(.5-n)),s=Math.sin(piDouble*n)),o=d=0;3>=d;o=++d)r.quaternion[o]=h[o]*l+p[o]*s;return r},T=function(t){var i,n,e,r,o,s,a,u,h,p,l,c,f,m,y;for(r=Matrix.I(4),i=c=0;3>=c;i=++c)r.elements[i][3]=t.perspective[i];for(o=t.quaternion,h=o[0],p=o[1],l=o[2],u=o[3],s=t.skew,e=[[1,0],[2,0],[2,1]],i=f=2;f>=0;i=--f)s[i]&&(a=Matrix.I(4),a.elements[e[i][0]][e[i][1]]=s[i],r=r.multiply(a));for(r=r.multiply(Matrix.create([[1-2*(p*p+l*l),2*(h*p-l*u),2*(h*l+p*u),0],[2*(h*p+l*u),1-2*(h*h+l*l),2*(p*l-h*u),0],[2*(h*l-p*u),2*(p*l+h*u),1-2*(h*h+p*p),0],[0,0,0,1]])),i=m=0;2>=m;i=++m){for(n=y=0;2>=y;n=++y)r.elements[i][n]*=t.scale[i];r.elements[3][i]=t.translate[i]}return r},V=function(t){var i,n,e,r,o;for(e="matrix3d(",i=r=0;3>=r;i=++r)for(n=o=0;3>=o;n=++o)e+=t.elements[i][n],(3!==i||3!==n)&&(e+=",");return e+=")"},C=v(function(t){var i,n,e;return i=document.createElement("div"),i.style[y()]=t,document.body.appendChild(i),e=window.getComputedStyle(i,null),n=e.transform||e[y()],document.body.removeChild(i),n}),x=function(t){var i,n,e,r,o,s;for(r=t.match(/matrix3?d?\(([-0-9, \.]*)\)/),r?(i=r[1].split(","),i=i.map(parseFloat),n=6===i.length?[i[0],i[1],0,0,i[2],i[3],0,0,0,0,1,0,i[4],i[5],0,1]:i):n=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],o=[],e=s=0;3>=s;e=++s)o.push(n.slice(4*e,4*e+4));return Matrix.create(o)},w=function(t){var i,n,e,r;i={},e=window.getComputedStyle(this.el,null);for(n in t)r=this.el.style[d(n)],r||(r=e[d(n)]),i[n]=r;return i},O=function(t){var i,n,e,r,o,s,a,u,h,p;e={};for(o in t){s=t[o],r={};for(i in s)u=s[i],"transform"!==i?(h=u+"",n=h.match(/([-0-9.]*)(.*)/),p=parseFloat(n[1]),a=n[2]):(p=_(x(C(u))),a=""),r[i]={value:p,unit:a};e[o]=r}return e},M=function(t){return"opacity"===t?1:0},l=function(t){var i,n,e,r;if(!this.stopped)return e=0,this.ts?(n=t-this.ts,e=n/this.options.duration):this.ts=t,i=this.dynamic().at(e),c.call(this,i[1],{progress:e}),1>e?requestAnimationFrame(l.bind(this)):(this.animating=!1,this.dynamic().init(),"function"==typeof(r=this.options).complete?r.complete(this):void 0)},c=function(t,i){var n,e,r,o,s,a,u,h,p,l,c,f,m;null==i&&(i={}),e=this.frames[0],r=this.frames[100],h=i.progress,null==h&&(h=-1),l="",p={};for(o in r)f=r[o],m=f.value,c=f.unit,a=null,h>=1&&(a=this.returnsToSelf?e[o].value:r[o].value),"transform"===o?(null==a&&(a=S(e[o].value,r[o].value,t)),s=T(a),p.transform=V(s)):(a||(u=null,e[o]&&(u=e[o].value),null==u&&(u=M(o)),n=m-u,a=u+n*t),p[o]=a);return b(this.el,p)},f=function(){return this.options.animated?(this.animating=!0,this.ts=null,this.stopped&&(this.stopped=!1),requestAnimationFrame(l.bind(this))):void this.apply(1,{progress:1})},i=[],q=function(t,i){var n,e;for(n in t)if(e=t[n],null!=i[n])return!0;return!1},H=function(t,n){var e,r,o,s;for(s=[],r=0,o=i.length;o>r;r++)e=i[r],s.push(e.el===t&&q(e.to,n)?e.stop():void 0);return s},P=["marginTop","marginLeft","marginBottom","marginRight","paddingTop","paddingLeft","paddingBottom","paddingRight","top","left","bottom","right"],b=function(t,i){var n,e,r,o;o=[];for(n in i)r=i[n],e="",-1!==P.indexOf(n.toLowerCase())&&(e="px"),o.push(t.style[d(n)]=""+r+e);return o},t=function(){function t(t,n,e){var o;this.el=t,this.to=n,null==e&&(e={}),this.stop=D(this.stop,this),this.start=D(this.start,this),this.dynamic=D(this.dynamic,this),this.setOptions=D(this.setOptions,this),window.jQuery&&this.el instanceof jQuery&&(this.el=this.el[0]),this.animating=!1,o=this.el.offsetHeight,this.frames=O({0:w.call(this,this.to),100:this.to}),this.setOptions(e),this.options.debugName&&r.InteractivePanel&&r.InteractivePanel.addAnimation(this),i.push(this)}return t.index=0,t.prototype.setOptions=function(t){var i,n,e,o,s,a,h,p,l,c;return null==t&&(t={}),i=null!=(a=this.options)?a.optionsChanged:void 0,this.options=t,null==(h=(n=this.options).duration)&&(n.duration=1e3),null==(p=(e=this.options).complete)&&(e.complete=null),null==(l=(o=this.options).type)&&(o.type=u),null==(c=(s=this.options).animated)&&(s.animated=!0),this.returnsToSelf=!1||this.dynamic().returnsToSelf,this._dynamic=null,null!=this.options.debugName&&null!=r.Overrides&&r.Overrides["for"](this.options.debugName)&&(this.options=r.Overrides.getOverride(this.options,this.options.debugName)),this.dynamic().init(),"function"==typeof i?i():void 0},t.prototype.dynamic=function(){var t;return null==(t=this._dynamic)&&(this._dynamic=new this.options.type(this.options)),this._dynamic},t.prototype.start=function(t){var i;return null==t&&(t={}),null==(i=t.delay)&&(t.delay=0),H(this.el,this.to),t.delay<=0?f.call(this):setTimeout(f.bind(this),t.delay)},t.prototype.stop=function(){return this.animating=!1,this.stopped=!0},t}(),r={Animation:t,Types:{Spring:p,SelfSpring:h,Gravity:s,GravityWithForce:a,Linear:u,Bezier:n,EaseInOut:o},css:b};try{module?module.exports=r:this.Dynamics=r}catch(I){this.Dynamics=r}}).call(this);